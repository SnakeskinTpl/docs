<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Документация Snakeskin 7</title>
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script type="text/javascript" src="//yastatic.net/jquery/2.2.0/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700|Open+Sans+Condensed:700&subset=latin,latin-ext,cyrillic,cyrillic-ext">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700,400italic,700italic&subset=latin,cyrillic,cyrillic-ext,latin-ext">
    <link rel="stylesheet" type="text/css" href="css/highlight/default.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <script type="text/javascript" src="js/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
</head>

<body>
    <div class="b-doc-wrapper">
        <header class="b-header"><a class="b-header__logo" href="index-ru.html"><img src="logo.svg" alt="snakeskin template engine"><div class="b-header__logo-text">Snakeskin</div></a>
            <nav class="b-nav">
                <menu>
                    <li><strong>Учебник</strong> </li>
                    <li><a id="api" href="api-ru.html" label="Документация">Документация</a></li>
                    <li><a id="plugins" href="guide-ru.html#install--Плагины" label="Плагины">Плагины</a></li>
                    <li><a id="examples" href="guide-ru.html#gettingStarted--Способы_использования_и_основные_use-case" label="Примеры">Примеры</a></li>
                    <li><a id="sandbox" href="http://codepen.io/kobezzza/pen/zrJNXx" label="Песочница" target="_blank">Песочница</a></li>
                </menu>
            </nav>
        </header>
        <div class="b-content-wrapper">
            <nav class="b-contents">
                <ol>
                    <li class="b-contents__part b-contents__part_link_false">Введение
                        <ol>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#intro">Что такое Snakeskin</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#install">Установка</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#gettingStarted">Концепт и варианты применения</a> </li>
                        </ol>
                    </li>
                    <li class="b-contents__part b-contents__part_link_false">Основы
                        <ol>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#basics">Декларация и базовый синтаксис</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#jadeLike">Jade-like синтаксис</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#introTemplates">Декларация шаблона и вывод данных</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#introParams">Параметры функциональных директив</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#filters">Механизм фильтров</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#localization">Локализация</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#introSet">Параметры трансляции</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#introLiteral">Интеграция с другими шаблонами</a> </li>
                        </ol>
                    </li>
                    <li class="b-contents__part b-contents__part_link_false">Наследование
                        <ol>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#inheritBasic">Концепция наследования. Блоки</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#inheritParams">Наследование входных параметров</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#inheritSet">Наследование параметров трансляции</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#inheritModifiers">Наследование модификаторов шаблона</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#inheritBlocks">Наследование вызываемых блоков</a> </li>
                            <li class="b-contents__part b-contents__part_link_true"><a class="b-contents__link" href="#inheritConsts">Наследование констант</a> </li>
                        </ol>
                    </li>
                </ol>
            </nav>
            <div class="b-articles">
                <div class="b-articles__nav-cont b-articles__prev">
                    <div class="b-articles__nav-control"><i class="fa fa-angle-left"></i></div>
                </div>
                <section id="intro" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Введение
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Что такое Snakeskin</h1>
                    <p>Snakeskin — это язык шаблонов и движок для их трансляции в JavaScript. Мощный набор возможностей и развитая защита от уязвимостей типа <a href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B8%D0%BD%D0%B3">XSS</a>                        позволяют полностью сосредоточиться на представлении данных, делая его независимым от бизнес-логики. Таким образом, Snakeskin идеально подходит для ситуаций, когда бэкенд и фронтенд разработчики работают параллельно.</p>
                    <p>Благодаря тому, что шаблоны Snakeskin транслируются в JS-код стандарта ECMAScript 5, независимый от окружения, он одинаково хорошо подходит для использования как на стороне сервера, так и на клиенте. Это можно сравнить с принципом
                        работы <a href="https://ru.wikipedia.org/wiki/CoffeeScript">CoffeeScript</a>, но если CoffeeScript спроектирован для упрощения разработки сложных проектов непосредственно на JS, то Snakeskin предназначен для шаблонизации HTML/XML-подобных
                        структур и упрощения их code-reuse, предоставляя из коробки наследование, расширение, локализацию, экранирование и прочие полезные ништяки :)</p>
                    <p>Snakeskin удобно использовать для генерации статичных страниц — транслятор может скомпилировать и сразу выполнить шаблон, возвратив результат его работы, что можно использовать для генерации шаблонов различных MVVM-фреймворков, таких
                        как Angular, Vue или React. В принципе, можно использовать Snakeskin даже для генерации кода на PHP — но помните, мы не гарантируем защиты от динозавров, которые могут прийти за вами.</p>
                    <p>Snakeskin поддерживает интеграцию с популярными task-runner’ами и сборщиками (Grunt, Gulp, Webpack) с помощью плагинов — это позволяет бесшовно встроить его в систему сборки любого проекта.</p>
                    <p>Use and enjoy.</p>
                </section>
                <section id="install" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Введение
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Установка</h1>
                    <p>Snakeskin написан на языке JavaScript и поддерживает работу как в браузере, так и в других окружениях:</p>
                    <ul>
                        <li>node.js (0.12+);</li>
                        <li>node-webkit;</li>
                        <li>electron;</li>
                        <li>web-worker;</li>
                        <li>дополнения к приложениям и т. д.</li>
                    </ul>
                    <h2>Запуск в браузере</h2>
                    <ul>
                        <li><a href="https://raw.githubusercontent.com/SnakeskinTpl/Snakeskin/master/dist/snakeskin.live.min.js">runtime</a> — микробиблиотека для запуска скомпилированных шаблонов;</li>
                        <li><a href="https://raw.githubusercontent.com/SnakeskinTpl/Snakeskin/master/dist/snakeskin.min.js">compiler</a> — для запуска компилятора необходимо предварительно установить <a href="https://github.com/SnakeskinTpl/Snakeskin/blob/master/demo/helloworld.html">ряд зависимостей</a>                            и
                            <a href="https://github.com/zloirock/core-js">полифилов</a> (если нужна поддержка старых браузеров).</li>
                    </ul>
                    <h2>Bower</h2>
                    <pre class="hljs example-bash"><code>bower install --save snakeskin
</code></pre>
                    <p>Файлы библиотеки лежат по адресу:</p>
                    <pre class="hljs example-default"><code>bower_components/
	snakeskin/
		dist/
			snakeskin.min.js
			snakeskin.live.min.js
</code></pre>
                    <h2>NPM</h2>
                    <pre class="hljs example-bash"><code>npm install --save snakeskin
</code></pre>
                    <h3>Плагины</h3>
                    <ul>
                        <li><a href="https://github.com/SnakeskinTpl/gulp-snakeskin">Gulp</a></li>
                        <li><a href="https://github.com/SnakeskinTpl/grunt-snakeskin">Grunt</a></li>
                        <li><a href="https://github.com/SnakeskinTpl/snakeskin-loader">WebPack</a></li>
                        <li><a href="https://github.com/SnakeskinTpl/snakeskinify">Browserify</a></li>
                        <li><a href="https://github.com/SnakeskinTpl/snakeskin-cli">CLI</a></li>
                        <li><a href="https://github.com/SnakeskinTpl/IntelliJ-IDEA">IntelliJ-IDEA</a></li>
                        <li><a href="https://github.com/SnakeskinTpl/atom-snakeskin">Atom</a></li>
                    </ul>
                    <h3>std.ss</h3>
                    <p><a href="https://github.com/SnakeskinTpl/std.ss">std.ss</a> — это библиотека написанная на Snakeskin, которая предоставляет ряд дополнительных функций для разработки.</p>
                    <h2>GitHub</h2>
                    <pre class="hljs example-bash"><code>git <span class="hljs-built_in">clone</span> https://github.com/SnakeskinTpl/Snakeskin
</code></pre>
                </section>
                <section id="gettingStarted" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Введение
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Концепт и варианты применения</h1>
                    <h2>Общая концепция</h2>
                    <p>Шаблоны в Snakeskin — это функции в JavaScript.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> helloWorld(name = <span class="hljs-string">'world'</span>)</span><span class="xml">
	Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> helloWorld(name = <span class="hljs-string">'world'</span>)}</span><span class="xml">
	Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Эквивалентно</p>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">if</span> (exports.demo === <span class="hljs-string">'undefined'</span>) {
	<span class="hljs-keyword">var</span> demo = exports.demo = {};
}

exports.demo.helloWorld = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">helloWorld</span>(<span class="hljs-params">name</span>) </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-string">'Hello '</span> + <span class="hljs-built_in">escape</span>(name) + <span class="hljs-string">'!'</span>;
}
</code></pre>
                    <p>После компиляции вызов шаблона соответствует простому вызову функции. Такой же подход используется в <a href="https://developers.google.com/closure/templates">Google Closure Templates</a>.</p>
                    <h2>Способы использования и основные use-case</h2>
                    <p>Основные use-case Snakeskin — это:</p>
                    <ol>
                        <li>Серверная шаблонизация;</li>
                        <li>Предварительная трансляция шаблонов в JS и использование их на клиенте;</li>
                        <li>Генерация шаблонов для различных фреймворков, например, Angular, Vue, React и т. д.;</li>
                        <li>Статическая генерация страниц на этапе сборки проекта.</li>
                    </ol>
                    <p>Также есть возможность «живой» компиляции в браузере, хотя данная фича не рекомендуется для prod.</p>
                    <h3>Песочница</h3>
                    <p>Простейшим способом изучения возможностей Snakeskin является использование <a href="http://codepen.io/kobezzza/pen/zrJNXx">онлайн-песочницы</a> на Codepen.
                    </p>
                    <h3>Использование Snakeskin как серверного шаблонизатора вместе с Node.js</h3>
                    <p>Snakeskin содержит ряд вспомогательных методов для удобной работы из Node.js.</p>
                    <p><strong>templates.ss</strong></p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> registration</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
</span><span class="hljs-directive">	&lt; input name = login | type = text | placeholder = Логин</span><span class="xml">
</span><span class="hljs-directive">	&lt; input name = password | type = password | placeholder = Пароль</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> registration}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-directive">{&lt; input name = login | type = text | placeholder = Логин /}</span><span class="xml">
	</span><span class="hljs-directive">{&lt; input name = password | type = password | placeholder = Пароль /}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p><strong>index.js</strong></p>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">var</span> ss = <span class="hljs-built_in">require</span>(<span class="hljs-string">'snakeskin'</span>);

<span class="hljs-built_in">console</span>.log(
	ss.compileFile(<span class="hljs-string">'./templates.ss'</span>).registration.index()
);
</code></pre>
                    <h3>Подключение уже скомпилированного шаблона в Node.js</h3>
                    <p>Скомпилированные файлы Snakeskin подключаются как простые Node.js модули.</p>
                    <p><strong>index.js</strong></p>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">var</span> tpls = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./templates.ss.js'</span>);
</code></pre>
                    <h3>Использование вместе с Vue и Webpack</h3>
                    <p>Snakeskin бесшовно интегрируется с большинством популярных MVVM библиотек и фреймворков, а использование SS вместе с Webpack является одной из самых лучших практик.</p>
                    <p><strong>webpack.config.js</strong></p>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">var</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack'</span>);

webpack({
	<span class="hljs-attr">entry</span>: {
		<span class="hljs-attr">index</span>: <span class="hljs-string">'./button.js'</span>
	},

	<span class="hljs-attr">output</span>: {
		<span class="hljs-attr">filename</span>: <span class="hljs-string">'[name].bundle.js'</span>
	},

	<span class="hljs-attr">module</span>: {
		<span class="hljs-attr">loaders</span>: [
			{
				<span class="hljs-attr">test</span>: <span class="hljs-regexp">/.js$/</span>,
				<span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
				<span class="hljs-attr">loader</span>: <span class="hljs-string">'babel'</span>
			},

			{
				<span class="hljs-attr">test</span>: <span class="hljs-regexp">/.ss$/</span>,
				<span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
				<span class="hljs-attr">loader</span>: <span class="hljs-string">'snakeskin-loader?pack=true'</span>
			}
		]
	}
});
</code></pre>
                    <p><strong>button.ss</strong></p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> button</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
</span><span class="hljs-directive">	&lt; button.b-button :type = type | :form = form</span><span class="xml">
		</span><span class="hljs-directive">{{ label }</span><span class="xml">}
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> button}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-directive">{&lt; button.b-button :type = type | :form = form}</span><span class="xml">
		</span><span class="hljs-directive">{{ label }</span><span class="xml">}
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p><strong>button.js</strong></p>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">import</span> { button } <span class="hljs-keyword">from</span> <span class="hljs-string">'./button.ss'</span>;

Vue.component(<span class="hljs-string">'button'</span>, {
	<span class="hljs-attr">props</span>: {
		<span class="hljs-attr">label</span>: {
			<span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>,
			<span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>
		},
		<span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>,
		<span class="hljs-attr">form</span>: <span class="hljs-built_in">String</span>
	},

	<span class="hljs-attr">template</span>: button.index()
});
</code></pre>
                    <p>В примере используется JS стандарта ES2015, поэтому также добавлен лоадер для транслятора <a href="https://babeljs.io">Babel</a>, чтобы обеспечить поддержку в старых браузерах.</p>
                    <h3>Статическая генерация страниц вместе с Gulp</h3>
                    <p>Snakeskin может немедленно выполнить скомпилированный шаблон по заданному имени и вернуть результат, а если имя шаблона не задано, то оно будет вычислено по формуле:</p>
                    <pre class="hljs example-default"><code>шаблон с именем главного файла (без расширения) ||
main ||
index ||
первый шаблон в списке
</code></pre>
                    <p><strong>gulpfile.js</strong></p>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">var</span>
	gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp'</span>),
	ss = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gulp-snakeskin'</span>);

gulp.task(<span class="hljs-string">'snakeskin'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
	gulp.src(<span class="hljs-string">'index.ss'</span>)
		.pipe(ss({<span class="hljs-attr">exec</span>: <span class="hljs-literal">true</span>}))
		.pipe(gulp.dest(<span class="hljs-string">'./dist/index.html'</span>));
});

gulp.task(<span class="hljs-string">'default'</span>, [<span class="hljs-string">'snakeskin'</span>]);
</code></pre>
                    <p><strong>index.ss</strong></p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> index</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> main()</span><span class="xml">
</span><span class="hljs-directive">	&lt; .hello</span><span class="xml">
		Hello world!
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> index}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> main()}</span><span class="xml">
	</span><span class="hljs-directive">{&lt; .hello}</span><span class="xml">
		Hello world!
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Также для задач статической генерации страниц может использоваться Grunt, Webpack или Snakeskin CLI.</p>
                    <h3>Статическая генерация с Snakeskin CLI</h3>
                    <p>Генерация страницы index.html на основе шаблона index.ss из примера выше.</p>
                    <pre class="hljs example-bash"><code>snakeskin ./index.ss -e -o ./dist/index.html
</code></pre>
                </section>
                <section id="basics" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Декларация и базовый синтаксис</h1>
                    <h2>Область декларации шаблонов</h2>
                    <p>Шаблоны Snakeskin можно декларировать либо в отдельных файлах c расширением <strong>.ss</strong> (рекомендуемый способ), либо внутри HTML документа через <code>&lt;script&gt;</code> блок, например:</p>
                    <pre class="hljs example-html"><code><span class="hljs-meta">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Hello world!<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

	<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/x-snakeskin-template"</span>&gt;</span><span class="actionscript">
			{<span class="hljs-keyword">namespace</span> demo}

			{template index()}
				Hello world!
			{/template}

			{template calc(a, b)}
				a + b = {a + b}
			{/template}
		</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
                    <p>В одной области декларации может быть объявлено неограниченное количество шаблонов.</p>
                    <h2>Синтаксис управляющих конструкций</h2>
                    <p>Управляющие конструкции (директивы) Snakeskin размещаются между символами <code>{</code> и <code>}</code>. Обычно вызов директивы подходит под следующий шаблон:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{названиеДирективы параметры}</span><span class="xml">
</span></code></pre>
                    <p>Например:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">var</span></span> a = true /}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> a}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">void</span></span> console.log(a)}</span><span class="xml">
</span><span class="hljs-directive">{/}</span><span class="xml">
</span></code></pre>
                    <p>Но некоторые директивы поддерживают альтернативный, более короткий синтаксис, например:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">void</span></span> <span class="hljs-number">1</span> + <span class="hljs-number">2</span>}</span><span class="xml"> ↔ </span><span class="hljs-directive">{? <span class="hljs-number">1</span> + <span class="hljs-number">2</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">output</span></span> <span class="hljs-number">1</span> + <span class="hljs-number">2</span>}</span><span class="xml"> ↔ </span><span class="hljs-directive">{<span class="hljs-number">1</span> + <span class="hljs-number">2</span>}</span><span class="xml">
</span></code></pre>
                    <h3>Расширенный синтаксис</h3>
                    <p>В случаях, когда в теле генерируемого шаблона необходимо также использовать фигурные скобки, то используется специальный расширенный синтаксис декларации директив (символы <code>#{</code> и <code>}</code>), например:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> example()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">var</span></span> val = <span class="hljs-number">1</span> /}</span><span class="xml">

	</span><span class="hljs-directive">#{<span class="hljs-name"><span class="hljs-built_in">block</span></span> script}</span><span class="xml">
		<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
			<span class="hljs-keyword">var</span> a = </span></span><span class="hljs-directive">{
				val: #{val}</span><span class="xml"><span class="undefined">
			};
		</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
	</span><span class="hljs-directive">#{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                    <p>Все директивы, которые вложены в директиву с расширенным синтаксисом, должны также использовать этот синтаксис.</p>
                    <h3>Интерполяция</h3>
                    <p>Ряд директив Snakeskin поддерживают специальный синтаксис интерполяции значений, который нужен для проброса динамических выражений в статический текст через конструкцию <code>${выражение}</code>.</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">var</span></span> a = true /}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">tag</span></span> ${a ? <span class="hljs-string">'input'</span> : <span class="hljs-string">'textarea'</span>}</span><span class="xml"> /}
</span></code></pre>
                    <h2>Блочные директивы</h2>
                    <p>Подобно тегам HTML или XML, многие директивы Snakeskin могут включать в себя другие директивы и т. д. и в дальнейшем такие директивы будут называться блочными, а все остальные — строчными.</p>
                    <p>Блочные директивы состоят из двух частей: основной декларации и завершающей части, например:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-comment">/// Основная декларация директивы if</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> <span class="hljs-number">1</span> &gt; <span class="hljs-number">2</span>}</span><span class="xml">
	...
</span><span class="hljs-comment">/// Завершающая часть</span><span class="xml">
</span><span class="hljs-directive">{/}</span><span class="xml">
</span></code></pre>
                    <p>Завершающая часть, как правило, создаётся с помощью специальной директивы <a href="api-ru.html#end">end</a>, которая поддерживает несколько видов синтаксиса:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-comment">/// Полная форма</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> <span class="hljs-number">1</span> &gt; <span class="hljs-number">2</span>}</span><span class="xml">
	...
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">end</span></span> if}</span><span class="xml">

</span><span class="hljs-comment">/// Сокращённая форма</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> <span class="hljs-number">1</span> &gt; <span class="hljs-number">2</span>}</span><span class="xml">
	...
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">end</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// Альтернативная полная форма</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> <span class="hljs-number">1</span> &gt; <span class="hljs-number">2</span>}</span><span class="xml">
	...
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">if</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// Альтернативная сокращённая форма</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> <span class="hljs-number">1</span> &gt; <span class="hljs-number">2</span>}</span><span class="xml">
	...
</span><span class="hljs-directive">{/}</span><span class="xml">
</span></code></pre>
                    <p>Какую форму использовать решает сам разработчик, но следует отметить, что при использовании форм с указанием имени закрываемой директивы Snakeskin будет проверять правильность, т. е.:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> <span class="hljs-number">1</span> &gt; <span class="hljs-number">2</span>}</span><span class="xml">
	...
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">else</span></span>}</span><span class="xml"> </span><span class="hljs-comment">/// Ошибка</span><span class="xml">
</span></code></pre>
                    <h2>Комментарии</h2>
                    <p>В любом месте области декларации шаблонов допускается использовать однострочные (<code>///</code>) и многострочные (<code>/* ... */</code>) комментарии. Комментарии вырезаются на этапе трансляции и не попадают в скомпилированный JavaScript.</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-comment">/* ... */</span><span class="xml">
</span><span class="hljs-comment">/// ...</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(name)}</span><span class="xml">
	</span><span class="hljs-comment">///{name}</span><span class="xml">
	</span><span class="hljs-comment">/*Hello
	world*/</span><span class="xml">

	</span><span class="hljs-directive">{<span class="hljs-number">1</span> <span class="hljs-comment">/*+ 2*/</span>}</span><span class="xml"> </span><span class="hljs-comment">/// Выведет 1</span><span class="xml">

	</span><span class="hljs-comment">/// /* 1 */, т.к. внутри литералов строк и</span><span class="xml">
	</span><span class="hljs-comment">/// регулярных выражений комментарии не действуют</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-string">'/* 1 */'</span>}</span><span class="xml">

	</span><span class="hljs-comment">/* Для отмены нежелательного комментария его нужно экранировать */</span><span class="xml">
	file:</span>\/<span class="xml">//... </span><span class="hljs-comment">/// экранируем первый /, чтобы URL вывелся как надо</span><span class="xml">

	</span><span class="hljs-comment">/// Пример ниже вызовет ошибку</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-comment">/*}*/</span>
{/template}</span><span class="xml">
</span></code></pre>
                    <h3>jsDoc</h3>
                    <p>Snakeskin поддерживает <a href="http://usejsdoc.org">jsDoc комментарии</a>, которые не вырезаются из конечного JavaScript кода.</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-comment">/**
 * jsDoc комментарий
 * @param {string} name
 */</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(name)}</span><span class="xml">
 </span><span class="hljs-comment">/*
  * Обычный комментарий
  */</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                    <h2>Экранирование</h2>
                    <p>Символ <code>\</code> может использоваться для экранирования директив, комментариев и прочих сущностей Snakeskin.</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> example()}</span><span class="xml">
	</span>\{<span class="xml">var val = 1} </span><span class="hljs-comment">/// Выведется как простой текст</span><span class="xml">
	</span>\/<span class="xml">// Выведется как простой текст
	</span>\\<span class="xml">1 </span><span class="hljs-comment">/// \1</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                </section>
                <section id="jadeLike" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Jade-like синтаксис</h1>
                    <p>Помимо <a href="#basics--%D0%A1%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%81_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B8%D1%85_%D0%BA%D0%BE%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%86%D0%B8%D0%B9">основного</a> синтаксиса
                        Snakeskin поддерживает также альтернативный, который основан на принципе управляющих пробелов и по духу близок к <a href="https://github.com/visionmedia/jade">Jade</a> и
                        <a href="https://github.com/haml/haml">HAML</a>. Такой синтаксис крайне удобен при генерации XML подобных структур, например:</p>
                    <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> hello(name)</span><span class="xml">
</span><span class="hljs-directive">	&lt; h1.foo</span><span class="xml">
</span><span class="hljs-directive">		&lt; span style = color: red</span><span class="xml">
			Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
</span></code></pre>
                    <p>Вместо символов <code>{</code>, <code>}</code> для вывода директивы используется <code>-</code>. В примерах документации основной синтаксис будет называться <strong>classic</strong>, а альтернативный — <strong>jade-like</strong>.</p>
                    <p><strong>«Классический» синтаксис:</strong></p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(name)}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> name}</span><span class="xml">
		</span><span class="hljs-directive">{name}</span><span class="xml">
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                    <p><strong>Jade-like синтаксис:</strong></p>
                    <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index(name)</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">if</span></span> name</span><span class="xml">
		</span><span class="hljs-directive">{name}</span><span class="xml">
</span></code></pre>
                    <p>Следует заметить, что в jade-like синтаксисе нет необходимости ставить закрывающие теги для блочных директив, т. к. они проставляются автоматически.</p>
                    <p>Если директива имеет короткий синтаксис, то тогда управляющий символ <code>-</code> может быть опущен, например:</p>
                    <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-comment">/// - var foo = 'bar'</span><span class="xml">
</span><span class="hljs-directive">: foo = <span class="hljs-string">'bar'</span></span><span class="xml">
</span><span class="hljs-comment">/// - void foo = 'bar'</span><span class="xml">
? console.log(foo)
</span></code></pre>
                    <h2>Расширенный синтаксис</h2>
                    <p>Для использования <a href="#basics--%D0%A0%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9_%D1%81%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%81">расширенного синтаксиса</a> используется символ <code>#</code> вместо <code>-</code>,
                        причём управляющий символ должен писаться всегда (в том числе и для короткого синтаксиса директив).</p>
                    <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">: foo = true</span><span class="xml">
</span><span class="hljs-directive"># <span class="hljs-name"><span class="hljs-built_in">if</span></span> true</span><span class="xml">
	#? console.log(foo)
</span></code></pre>
                    <h2>Смешивание синтаксисов</h2>
                    <p>Jade-like синтаксис можно использовать совместно с классическим, при этом классический синтаксис может включаться в блоки с декларацией jade-like, например:</p>
                    <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-comment">/// Альтернативный синтаксис</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">

</span><span class="hljs-comment">/// Классический синтаксис</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
  ....
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// Альтерантивный синтаксис с включением классического</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> wrapper(name)</span><span class="xml">
	Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
</span></code></pre>
                    <h2>Многострочная декларация</h2>
                    <p>В случае, если необходимо разбить тело директивы на несколько строк, то используется конструкция <code>&amp; ... .</code> (перед символами необходимо ставить пробел), например:</p>
                    <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> hello(name)</span><span class="xml">
</span><span class="hljs-directive">	&lt; h1.foo &amp;</span><span class="xml">
		style =
			color: red;
			text-decoration: underline
	.
		</span><span class="hljs-directive">{name}</span><span class="xml">
</span></code></pre>
                    <h2>Инлайновая декларация</h2>
                    <p>Содержимое директивы можно задать на одной строке с декларацией после символов <code>::</code> (обязательное выделение пробелами с обеих сторон; после спецсимвола можно использовать только классический синтаксис).</p>
                    <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> hello(name)</span><span class="xml">
</span><span class="hljs-directive">	&lt; h1.foo :: {name}</span><span class="xml">
</span></code></pre>
                    <p>Однако, при многострочной декларации директивы такой синтаксис невозможен.</p>
                    <h2>Символ текста</h2>
                    <p>Специальный символ <code>|</code> в начале строки декларирует, что вся строка является простым текстом (внутри которого по прежнему можно использовать классический синтаксис), а сам символ игнорируется, например:</p>
                    <pre class="hljs example-default"><code>- template hello(name)
	- <span class="hljs-keyword">if</span> <span class="hljs-literal">true</span> :: Hello world! <span class="hljs-comment">/// Hello world!</span>
	|- <span class="hljs-keyword">if</span> <span class="hljs-literal">true</span> :: Hello world! <span class="hljs-comment">/// - if true :: Hello world!</span>
</code></pre>
                    <p>Следует отметить, что также для этой цели можно использовать универсальный символ экранирования <code>\</code>:</p>
                    <pre class="hljs example-default"><code>- template hello(name)
	\- <span class="hljs-keyword">if</span> <span class="hljs-literal">true</span> :: Hello world! <span class="hljs-comment">/// - if true :: Hello world!</span>
</code></pre>
                    <p>Т.е. можно использовать любой из способов.</p>
                </section>
                <section id="introTemplates" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Декларация шаблона и вывод данных</h1>
                    <p>Шаблон — это главная функциональная ячейка Snakeskin, которая является синонимом функции в JavaScript, т. е. после трансляции все шаблоны будут представлены как JS функции, которые можно использовать вместе с любым другим JS кодом.</p>
                    <p>Объявление шаблона возможно с помощью директив <a href="api-ru.html#template">template</a>, <a href="api-ru.html#interface">interface</a> и
                        <a href="api-ru.html#placeholder">placeholder</a>. Шаблон не может включать в себя другой шаблон, для этого есть другие директивы.</p>
                    <p>Название шаблона соответствует названию функции в JavaScript, поэтому оно подчиняется тем же правилам.</p>
                    <h2>Пространства имён</h2>
                    <p>Все шаблоны Snakeskin декларируются в пространстве имён, которое обязан задать сам разработчик с помощью директивы
                        <a href="api-ru.html#namespace">namespace</a>, причём в рамках одного файла Snakeskin может существовать только одно пространство имён, т. е.:
                    </p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> bar <span class="hljs-comment">/// Ошибка</span></span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> bar}</span><span class="xml"> </span><span class="hljs-comment">/// Ошибка</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Каждое пространство имён является свойством корневого объекта <strong>exports</strong>, которое является глобальным для всех файлов Snakeskin и осуществляет экспорт шаблонов в JavaScript.</p>
                    <p>В рамках одного пространства имён не может быть двух шаблонов с одинаковым названием, т. е. переопределять шаблоны в Snakeskin нельзя.</p>
                    <h2>Механика шаблонов</h2>
                    <p>Snakeskin в известном смысле — макроязык, в нём нет оператора print, т. е. весь текст, набранный в исходном файле, суть большой оператор print. Директивы Snakeskin являются погруженными в текст. Получается, что вы не пишете программу,
                        которая выводит текст — наоборот, в имеющийся текст вы добавляете логику и организацию, блоки (методы), на которые вы разбиваете код:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> hello()</span><span class="xml">
	Hello world!
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> hello()}</span><span class="xml">
	Hello world!
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>В JS такое будет выглядеть как:</p>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">if</span> (exports.demo === <span class="hljs-string">'undefined'</span>) {
	<span class="hljs-keyword">var</span> demo = exports.demo = {};
}

exports.demo.hello = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"></span>) </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-string">'Hello world!'</span>;
};
</code></pre>
                    <h2>Вывод значений</h2>
                    <p>Snakeskin позволяет разработчику вставлять в статичный текст шаблона динамические JavaScript выражения, например, вызовы функций, значения переменных, результат математических операций и т. д. Для этого используется специальная директива
                        <a href="api-ru.html#output">output</a>. Давайте усложним пример данный выше: будем выводить приветствие по заданному параметру-имени.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> hello(name)</span><span class="xml">
	</span><span class="hljs-comment">/// Можно было бы написать {output name},</span><span class="xml">
	</span><span class="hljs-comment">/// но внутри шаблонов директива output</span><span class="xml">
	</span><span class="hljs-comment">/// имеет более удобную короткую форму вызова и поэтому</span><span class="xml">
	</span><span class="hljs-comment">/// достаточно просто взять выводимое выражение в фигурные скобки</span><span class="xml">
	Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> hello(name)}</span><span class="xml">
	</span><span class="hljs-comment">/// Можно было бы написать {output name},</span><span class="xml">
	</span><span class="hljs-comment">/// но внутри шаблонов директива output</span><span class="xml">
	</span><span class="hljs-comment">/// имеет более удобную короткую форму вызова и поэтому</span><span class="xml">
	</span><span class="hljs-comment">/// достаточно просто взять выводимое выражение в фигурные скобки</span><span class="xml">
	Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Как уже говорилось выше, выводить через <em>output</em> можно не только простые параметры, а практически любое JavaScript выражение, например:
                    </p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> calc(a, b)</span><span class="xml">
	a + b = </span><span class="hljs-directive">{Math.round(a) + b}</span><span class="xml">
	</span><span class="hljs-directive">{a &gt; <span class="hljs-number">10</span> ? <span class="hljs-string">'"a" great then 10'</span> : <span class="hljs-string">'"a" less then 10'</span>}</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> calc(name)}</span><span class="xml">
	a + b = </span><span class="hljs-directive">{Math.round(a) + b}</span><span class="xml">
	</span><span class="hljs-directive">{a &gt; <span class="hljs-number">10</span> ? <span class="hljs-string">'"a" great then 10'</span> : <span class="hljs-string">'"a" less then 10'</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <h2>Другие директивы</h2>
                    <p>Помимо <em>output</em>, в Snakeskin существует множество других директив, которые помогут написать функциональный и гибкий шаблон, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index(value)</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">if</span></span> Array.isArray(value)</span><span class="xml">
</span><span class="hljs-directive">		- <span class="hljs-name"><span class="hljs-built_in">forEach</span></span> value <span class="hljs-keyword">=&gt;</span> el</span><span class="xml">
			</span><span class="hljs-directive">{el}</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(name)}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> Array.isArray(value)}</span><span class="xml">
		</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">forEach</span></span> value <span class="hljs-keyword">=&gt;</span> el}</span><span class="xml">
			</span><span class="hljs-directive">{el}</span><span class="xml">
		</span><span class="hljs-directive">{/}</span><span class="xml">
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Узнать о всех директивах, которые поддерживает Snakeskin, можно в <a href="api-ru.html">документации проекта</a>.</p>
                    <h2>Глобальный контекст</h2>
                    <p>Код, который находится вне тела шаблона или прототипа считается глобальным и помимо трансляции в JavaScript выполняется на этапе трансляции.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-comment">/// Данный forEach выполнится на этапе трансляции и войдёт в конечный JS</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">forEach</span></span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-keyword">=&gt;</span> el</span><span class="xml">
	? console.log(el)
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-comment">/// Данный forEach выполнится на этапе трансляции и войдёт в конечный JS</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">forEach</span></span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-keyword">=&gt;</span> el}</span><span class="xml">
	</span><span class="hljs-directive">{? console.log(el)}</span><span class="xml">
</span><span class="hljs-directive">{/}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <h2>Работа с пробельными символами</h2>
                    <p>Если не задан параметр <a href="api-ru.html#compile--tolerateWhitespaces">tolerateWhitespaces</a>, то любые пробельные символы (перевод строки, пробел, табуляция и т. д.) в рамках шаблона Snakeskin трактуются как пробел и «схлопываются»
                        в один, т. е.:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	Hello          world


	Bar
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	Hello          world


	Bar
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Отрендерится как:</p>
                    <pre class="hljs example-default"><code>Hello world Bar
</code></pre>
                    <p>Исключение составляют блоки <a href="#api-ru.html#cdata">cdata</a>, литералы строк и регулярных выражений внутри директивы и
                        <a href="#basics--jsDoc">jsDoc комментарии</a>.</p>
                    <p>С помощью параметра <a href="api-ru.html#compile--ignore">ignore</a> можно задать те пробельные символы, которые будут полностью вырезаться из шаблона.</p>
                    <h3>Текстовые и логические директивы</h3>
                    <p>Директивы Snakeskin можно условно разделить на 2 группы: текстовые и логические.</p>
                    <p>Текстовые директивы — это такие директивы, результат работы которых выводится в шаблон, например,
                        <a href="api-ru.html#output">output</a> или <a href="api-ru.html#call">call</a>, а остальные директивы считаются логическими, например,
                        <a href="api-ru.html#if">if</a> или <a href="api-ru.html#for">for</a>.</p>
                    <p>Логические директивы не участвуют в обработке пробелов, т. е.:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	Hello
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">if</span></span> true</span><span class="xml">
</span><span class="hljs-directive">
		- <span class="hljs-name"><span class="hljs-built_in">if</span></span> true</span><span class="xml">

			world
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	Hello
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> true}</span><span class="xml">

		</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> true}</span><span class="xml">

			world
		</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">if</span></span>}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">if</span></span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Отрендерится как:</p>
                    <pre class="hljs example-default"><code>Hello world
</code></pre>
                </section>
                <section id="introParams" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Параметры функциональных директив</h1>
                    <p>Функциональные директивы Snakeskin — это такие директивы, которые по своему синтаксису напоминают функции JavaScript, и как правило при трансляции преобразуются именно в них. Логично, что такие директивы могут принимать входные параметры,
                        например:
                    </p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index(a, b)</span><span class="xml">
	</span><span class="hljs-directive">{a + b}</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(a, b)}</span><span class="xml">
	</span><span class="hljs-directive">{a + b}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>У параметров может быть значение по умолчанию, которое применяется, если значение параметра будет <code>null</code> или <code>undefined</code>.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index(a = <span class="hljs-number">1</span>, b = <span class="hljs-number">2</span>)</span><span class="xml">
	</span><span class="hljs-directive">{a + b}</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(a = <span class="hljs-number">1</span>, b = <span class="hljs-number">2</span>)}</span><span class="xml">
	</span><span class="hljs-directive">{a + b}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>С помощью специального оператора <code>?</code> можно задать, чтобы значение по умолчанию ставилось только при <code>undefined</code>.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index(a? = <span class="hljs-number">1</span>, b? = <span class="hljs-number">2</span>)</span><span class="xml">
	</span><span class="hljs-directive">{a + b}</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(a? = <span class="hljs-number">1</span>, b? = <span class="hljs-number">2</span>)}</span><span class="xml">
	</span><span class="hljs-directive">{a + b}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Существует также оператор <code>!</code>, который отменяет оператор <code>?</code>, но он используется только при наследовании блоков или шаблонов.</p>
                    <h2>with биндинг</h2>
                    <p>Оператор <code>@</code> осуществляет привязку параметра к директиве <a href="api-ru.html#with">with</a>, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index(@params)</span><span class="xml">
	</span><span class="hljs-directive">{@name}</span><span class="xml"> </span><span class="hljs-comment">/// params.name</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index(@params)}</span><span class="xml">
	</span><span class="hljs-directive">{@name}</span><span class="xml"> </span><span class="hljs-comment">/// params.name</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                </section>
                <section id="filters" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Механизм фильтров</h1>
                    <p>Фильтром Snakeskin называется функция, которая лежит в пространстве имён <strong>Snakeskin.Filters</strong>, а для вызова такой функции используется специальный «сахарный» синтаксис. Сам механизм фильтров идеологически близок к реализации
                        в Bash, т. е. для вызова фильтра используется символ вертикальной черты (<code>|</code>), после которого идёт название фильтра и его параметры. Следует отметить, что между символом фильтра и названием не должно быть пробелов, иначе
                        это будет трактоваться парсером как «побитовое или».</p>
                    <p>Например:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-comment">/// Snakeskin.Filters['ucfirst'].call(this, 'hello' + ' world')</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-string">'hello'</span> + <span class="hljs-string">' world'</span><span class="hljs-keyword">|ucfirst</span>}</span><span class="xml">
</span></code></pre>
                    <p>Как и в Bash, фильтры Snakeskin могут создавать конвейерные последовательности:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-string">' hello '</span><span class="hljs-keyword">|trim</span><span class="hljs-keyword">|ucfirst</span>}</span><span class="xml">
</span></code></pre>
                    <p>Фильтры можно накладывать отдельно на некоторые части выражения, для этого нужно обернуть декларацию в круглые скобки:</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-comment">/// Два локальных и один глобальный фильтр,</span><span class="xml">
</span><span class="hljs-comment">/// который применится на всё выражение</span><span class="xml">
</span><span class="hljs-directive">{(a<span class="hljs-keyword">|ucfirst</span>) + (b<span class="hljs-keyword">|ucfirst</span>) <span class="hljs-keyword">|trim</span>}</span><span class="xml">
</span></code></pre>
                    <p>Фильтрам можно передавать параметры, на которые также можно применять фильтры и т. д.</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{a<span class="hljs-keyword">|myFilter</span> <span class="hljs-number">1</span>, (<span class="hljs-number">2</span> / <span class="hljs-number">3</span><span class="hljs-keyword">|myFilter</span>)}</span><span class="xml">
</span></code></pre>
                    <p>По умолчанию при выводе значений через <a href="#output">output</a> к ним применяется глобальный фильтр html (экранирование html символов) и фильтр undef (замена <code>undefined</code> на пустые строки), однако их выполнение можно
                        отменить <code>{a|!html}</code> и <code>{a|!undef}</code>.</p>
                    <p>Механизм фильтров поддерживает большинство директив Snakeskin, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">var</span></span> a = <span class="hljs-string">'fooo '</span><span class="hljs-keyword">|trim</span></span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">if</span></span> a<span class="hljs-keyword">|trim</span></span><span class="xml">
	...
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">var</span></span> a = <span class="hljs-string">'fooo '</span><span class="hljs-keyword">|trim</span> /}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">if</span></span> a<span class="hljs-keyword">|trim</span>}</span><span class="xml">
	...
</span><span class="hljs-directive">{/}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <h2>Фильтры входных параметров</h2>
                    <p>Фильтры Snakeskin можно назначать на любые входные параметры функциональных директив (
                        <a href="api-ru.html#template">template</a>, <a href="api-ru.html#forEach">forEach</a> и т. д.), например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> demo((a<span class="hljs-keyword">|trim</span>), (b<span class="hljs-keyword">|trim</span><span class="hljs-keyword">|remove</span> <span class="hljs-string">'foo'</span>))</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> demo((a<span class="hljs-keyword">|trim</span>), (b<span class="hljs-keyword">|trim</span><span class="hljs-keyword">|remove</span> <span class="hljs-string">'foo'</span>))}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Обратите внимание, что фильтр параметра берётся в круглые скобки.</p>
                    <h3>Фильтры значений по умолчанию</h3>
                    <p>На значения по умолчанию для параметров можно также накладывать фильтры, причём если у самого параметра есть свои фильтры, то они применятся после, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> demo((a<span class="hljs-keyword">|trim</span>) = (<span class="hljs-string">'fooBar'</span><span class="hljs-keyword">|remove</span> <span class="hljs-string">'foo'</span>))</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> demo((a<span class="hljs-keyword">|trim</span>) = (<span class="hljs-string">'fooBar'</span><span class="hljs-keyword">|remove</span> <span class="hljs-string">'foo'</span>)}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <h2>Пользовательский фильтр</h2>
                    <p>Чтобы написать свой фильтр, достаточно добавить его в <em>Snakeskin.Filters</em>. Название фильтра может начинаться с символа латинского алфавита, подчёркивания (<code>_</code>) или знака доллара (<code>$</code>). Первым параметром
                        функции будет значение выражения, а <em>this</em> внутри фильтра ссылается на <em>this</em> шаблона.</p>
                    <pre class="hljs example-js"><code>Snakeskin.Filters[<span class="hljs-string">'replace'</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, search, replace</span>) </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(str).replace(search, replace);
};
</code></pre>
                    <p>Фильтры можно разбивать на внутренние пространства имён:</p>
                    <pre class="hljs example-js"><code>Snakeskin.Filters[<span class="hljs-string">'text'</span>] = {
	<span class="hljs-string">'replace'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, search, replace</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(str).replace(search, replace);
	}
};
</code></pre>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-string">'foo'</span><span class="hljs-keyword">|text</span>.replace <span class="hljs-string">'fo'</span>, <span class="hljs-string">'bar'</span>}</span><span class="xml">
</span></code></pre>
                    <p>Также для добавления своих фильтров можно воспользоваться методом
                        <a href="https://github.com/SnakeskinTpl/Snakeskin/blob/master/src/live/filters.js#L22">Snakeskin.importFilters</a>:</p>
                    <pre class="hljs example-js"><code>Snakeskin.importFilters({
	<span class="hljs-string">'replace'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, search, replace</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(str).replace(search, replace);
	}
});

<span class="hljs-comment">// С указанием пространства имён</span>
<span class="hljs-comment">// my.foo.bar.repeat</span>
Snakeskin.importFilters({
	<span class="hljs-string">'replace'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, search, replace</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(str).replace(search, replace);
	}
}, <span class="hljs-string">'my.foo.bar'</span>);
</code></pre>
                    <h3>Дополнительные параметры фильтров</h3>
                    <p>При декларации фильтра ему можно задать ряд дополнительных параметров, например, чтобы фильтр отменял выполнение фильтров по умолчанию. Для этого используется специальный метод
                        <a href="https://github.com/SnakeskinTpl/Snakeskin/blob/master/src/live/filters.js#L46">Snakeskin.setFilterParams</a>, который первым параметром принимает название фильтра, а вторым объект с настройками.</p>
                    <pre class="hljs example-js"><code>Snakeskin.importFilters({
	<span class="hljs-attr">myFilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str, getTplResult</span>) </span>{
		<span class="hljs-keyword">return</span> str + getTplResult();
	}
});

Snakeskin.setFilterParams(<span class="hljs-string">'myFilter'</span>, {
	<span class="hljs-comment">// Прокидываем функцию getTplResult и объект $attrs из шаблона в фильтр</span>
	bind: [<span class="hljs-string">'getTplResult'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{ <span class="hljs-keyword">return</span> o.getVar(<span class="hljs-string">'$attrs'</span>); }],

	<span class="hljs-comment">// Отменяем фильтр html по умолчанию</span>
	<span class="hljs-string">'!html'</span>: <span class="hljs-literal">true</span>,

	<span class="hljs-comment">// Отменяем фильтр undef по умолчанию</span>
	<span class="hljs-string">'!undef'</span>: <span class="hljs-literal">true</span>,

	<span class="hljs-comment">// Указывает, что фильтр не меняет исходное значение так,</span>
	<span class="hljs-comment">// что это может привести к появлению XSS, т.е. фильтр безопасный,</span>
	<span class="hljs-comment">// например таким фильтром является trim</span>
	<span class="hljs-string">'safe'</span>: <span class="hljs-literal">true</span>
});
</code></pre>
                    <p>Обратите внимание, что такие параметры должны задаваться <strong>до</strong> трансляции шаблона.</p>
                    <h2>Переменная $_</h2>
                    <p>Переменная <strong>$_</strong> содержит результат последней работы фильтра.</p>
                    <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-string">' fooo '</span><span class="hljs-keyword">|trim</span>}</span><span class="xml">
</span><span class="hljs-directive">{$_}</span><span class="xml"> </span><span class="hljs-comment">/// 'fooo'</span><span class="xml">
</span></code></pre>
                    <h2>Примечание</h2>
                    <p>Чтобы использовать в шаблоне побитовое ИЛИ (<code>|</code>) достаточно просто указать пробел после оператора <code>|</code>, также если после оператора <code>|</code> идёт число, то можно писать как есть, т. к. название фильтра не может
                        начинаться с числа.</p>
                    <pre class="hljs example-default"><code>{<span class="hljs-number">1</span>|<span class="hljs-number">0</span>}

{a = <span class="hljs-number">1</span>}
{<span class="hljs-number">1</span> | a}
</code></pre>
                    <h2>Встроенные фильтры</h2>
                    <p>В стандартном runtime библиотеки Snakeskin присутствует ряд базовых фильтров, которые могут быть полезны при разработке шаблонов, <a href="https://github.com/SnakeskinTpl/Snakeskin/blob/master/src/live/filters.js">подробнее</a>.</p>
                </section>
                <section id="localization" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Локализация</h1>
                    <p>В Snakeskin существует специальный тип строк <code>` ... `</code>, которые при параметре
                        <a href="api-ru.html#compile--localization">localization</a> (включён по умолчанию) будут автоматически оборачиваться функцией <code>i18n()</code>.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Строка <code>`Hello world!`</code> скомпилируется как</p>
                    <pre class="hljs example-js"><code>i18n(<span class="hljs-string">"hello world!"</span>)
</code></pre>
                    <p>Данные строки можно также использовать внутри директив, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-string">`Hello world!`</span>}</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-string">`Hello world!`</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Имя используемой функции локализации можно задать явно с помощью параметра <a href="api-ru.html#compile--i18nFn">i18nFn</a>.</p>
                    <h2>Передача параметров функции локализации</h2>
                    <p>Snakeskin поддерживает передачу параметров для функции локализации, которые задаются в виде строки через параметр
                        <a href="api-ru.html#compile--i18nFnOptions">i18nFnOptions</a>, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <pre class="hljs example-js"><code>Snakeskin.compile(<span class="hljs-string">'&lt;шаблон&gt;'</span>, {
	<span class="hljs-attr">i18nFnOptions</span>: <span class="hljs-string">'{lang: "en"}, true'</span>
});
</code></pre>
                    <p>Строка локализации скомпилируется как</p>
                    <pre class="hljs example-js"><code>i18n(<span class="hljs-string">"hello world!"</span>, {<span class="hljs-attr">lang</span>: <span class="hljs-string">"en"</span>}, <span class="hljs-literal">true</span>)
</code></pre>
                    <h3>Локальная передача параметров</h3>
                    <p>Если строка локализации находится внутри директивы, то можно явно передать дополнительные параметры, которые будут заменять глобальные, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-string">`Привет мир!`</span>({lang: <span class="hljs-string">"ru"</span>}</span><span class="xml">, true)}
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-string">`Привет мир!`</span>({lang: <span class="hljs-string">"ru"</span>}</span><span class="xml">, true)}
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <h2>Экранирование</h2>
                    <p>Чтобы использовать символ <code>`</code> самостоятельно, то его нужно экранировать.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span>\`<span class="xml">Hello world!</span>\`<span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span>\`<span class="xml">Hello world!</span>\`<span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Отрендерится как:</p>
                    <pre class="hljs example-html"><code>`Hello world!`
</code></pre>
                    <p>Или же можно просто отключить параметр <a href="api-ru.html#compile--localization">localization</a>.</p>
                    <h2>Замена на этапе трансляции</h2>
                    <p>Если при компиляции шаблонов задать параметр-объект <code>language</code>, то найденные литералы будут автоматически заменятся на указанные в объекте.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <pre class="hljs example-js"><code>Snakeskin.compile(<span class="hljs-string">'&lt;шаблон&gt;'</span>, {
	<span class="hljs-attr">language</span>: {
		<span class="hljs-comment">// В качестве значений замены можно также использовать функции,</span>
		<span class="hljs-comment">// которые возвращают строку</span>
		<span class="hljs-string">'Hello world!'</span>: <span class="hljs-string">'Привет мир!'</span>
	}
});
</code></pre>
                    <p>Отрендерится как:</p>
                    <pre class="hljs example-html"><code>Привет мир!
</code></pre>
                    <p>Т.к. смежные пробельные символы в Snakeskin схлопываются один, то следующий пример также будет работать.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-string">`Hello


	world!`</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-string">`Hello


	world!`</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <pre class="hljs example-js"><code>Snakeskin.compile(<span class="hljs-string">'&lt;шаблон&gt;'</span>, {
	<span class="hljs-attr">language</span>: {
		<span class="hljs-string">'Hello world!'</span>: <span class="hljs-string">'Привет мир!'</span>
	}
});
</code></pre>
                    <h2>Генерация таблицы используемых литералов</h2>
                    <p>Дополнительно Snakeskin может сохранить все найденные литералы локализации в объект, чтобы потом, например, можно было передать его переводчикам. За эту функцию отвечает параметр <a href="api-ru.html#compile--words">words</a>.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-string">`Hello world!`</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <pre class="hljs example-js"><code><span class="hljs-keyword">var</span> words = {};

Snakeskin.compile(<span class="hljs-string">'&lt;шаблон&gt;'</span>, {
	<span class="hljs-attr">words</span>: words
});

<span class="hljs-comment">// {'Hello world!': 'Hello world!'}</span>
<span class="hljs-built_in">console</span>.log(words);
</code></pre>
                </section>
                <section id="introSet" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Параметры трансляции</h1>
                    <p>Транслятор Snakeskin поддерживает множество дополнительных режимов работы, которые можно задавать через метод
                        <a href="api-ru.html#compile">compile</a> и т. д., но также, Snakeskin позволяет декларировать часть таких параметров непосредственно в тексте программы, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">@= tolerateWhitespaces true</span><span class="xml">
</span><span class="hljs-directive">@= literalBounds [<span class="hljs-string">'&lt;?php'</span>, <span class="hljs-string">'?&gt;'</span>]</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-keyword">@=</span> tolerateWhitespaces true}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-keyword">@=</span> literalBounds [<span class="hljs-string">'&lt;?php'</span>, <span class="hljs-string">'?&gt;'</span>]}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Задачу параметров трансляции выполняет директива <a href="api-ru.html#set">set</a>, которая имеет короткий синтаксис декларации <code>@=</code>. Поддерживаются следующие параметры:</p>
                    <ul>
                        <li><a href="api-ru.html#compile--renderMode">renderMode</a></li>
                        <li><a href="api-ru.html#compile--renderAs">renderAs</a></li>
                        <li><a href="api-ru.html#compile--localization">localization</a></li>
                        <li><a href="api-ru.html#compile--i18nFn">i18nFn</a></li>
                        <li><a href="api-ru.html#compile--i18nFnOptions">i18nFnOptions</a></li>
                        <li><a href="api-ru.html#compile--literalBounds">literalBounds</a></li>
                        <li><a href="api-ru.html#compile--tagFilter">tagFilter</a></li>
                        <li><a href="api-ru.html#compile--tagNameFilter">tagNameFilter</a></li>
                        <li><a href="api-ru.html#compile--attrKeyFilter">attrKeyFilter</a></li>
                        <li><a href="api-ru.html#compile--attrValueFilter">attrValueFilter</a></li>
                        <li><a href="api-ru.html#compile--bemFilter">bemFilter</a></li>
                        <li><a href="api-ru.html#compile--filters">filters</a></li>
                        <li><a href="api-ru.html#compile--language">language</a></li>
                        <li><a href="api-ru.html#compile--ignore">ignore</a></li>
                        <li><a href="api-ru.html#compile--tolerateWhitespaces">tolerateWhitespaces</a></li>
                        <li><a href="api-ru.html#compile--doctype">doctype</a></li>
                    </ul>
                    <p>Параметры заданные таким способом распространяются на все шаблоны в файле, а также на все подключаемые файлы, если они там явно не переопределяются.</p>
                    <h2>Локальные параметры</h2>
                    <p>Параметр трансляции можно задать локально для конкретного шаблона, причём можно совмещать оба способа декларации, например:
                    </p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">@= tolerateWhitespaces true</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index() <span class="hljs-keyword">@=</span> literalBounds [<span class="hljs-string">'&lt;?php'</span>, <span class="hljs-string">'?&gt;'</span>]</span><span class="xml">
	</span><span class="hljs-directive">{{ Hello }</span><span class="xml">}
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-keyword">@=</span> tolerateWhitespaces true}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index() <span class="hljs-keyword">@=</span> literalBounds [<span class="hljs-string">'&lt;?php'</span>, <span class="hljs-string">'?&gt;'</span>]}</span><span class="xml">
	</span><span class="hljs-directive">{{ Hello }</span><span class="xml">}
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                </section>
                <section id="introLiteral" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Основы
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Интеграция с другими шаблонами</h1>
                    <p>Snakeskin поддерживает бесшовную интеграцию с другими шаблонными движками с помощью специальной директивы <a href="api-ru.html#literal">literal</a>. Как правило такой кейз возникает при интеграции Snakeskin c MVVM фреймворками, например,
                        с Vue. Директива <em>literal</em> имеет специальный синтаксис <code>{{ ... }}</code>, который скомпилируется согласно параметру <a href="api-ru.html#compile--literalBounds">literalBounds</a> (по умолчанию используется <code>{{ ... }}</code>),
                        например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index() <span class="hljs-keyword">@=</span> literalBounds [<span class="hljs-string">'&lt;?php'</span>, <span class="hljs-string">'?&gt;'</span>]</span><span class="xml">
	</span><span class="hljs-directive">{{ Hello }</span><span class="xml">}
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index() <span class="hljs-keyword">@=</span> literalBounds [<span class="hljs-string">'&lt;?php'</span>, <span class="hljs-string">'?&gt;'</span>]}</span><span class="xml">
	</span><span class="hljs-directive">{{ Hello }</span><span class="xml">}
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Отрендерится как:</p>
                    <pre class="hljs example-html"><code><span class="php"><span class="hljs-meta">&lt;?php</span> Hello <span class="hljs-meta">?&gt;</span></span>
</code></pre>
                    <p>Для передачи значений Snakeskin внутрь директивы используется <a href="#basics--%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BF%D0%BE%D0%BB%D1%8F%D1%86%D0%B8%D1%8F">стандартный механизм интерполяции</a>, например:
                    </p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> index()</span><span class="xml">
	</span><span class="hljs-directive">{{ bar${<span class="hljs-number">1</span> + <span class="hljs-number">2</span>}</span><span class="xml"> }}
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> index()}</span><span class="xml">
	</span><span class="hljs-directive">{{ bar${<span class="hljs-number">1</span> + <span class="hljs-number">2</span>}</span><span class="xml"> }}
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Отрендерится как:</p>
                    <pre class="hljs example-html"><code>{{ bar3 }}
</code></pre>
                </section>
                <section id="inheritBasic" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Наследование
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Концепция наследования. Блоки</h1>
                    <p>Важно понимать отличие простой декларации шаблона от декларации шаблона с наследованием. При декларации простого шаблона мы описываем его структуру, а при наследовании описываем его изменения относительно родителя, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
	Какой хороший день!
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
	Может пойдём на речку?
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	Какой хороший день!
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	Может пойдём на речку?
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>При вызове скомпилированной функции <strong>child</strong> результат будет точно таким же, как и у <strong>base</strong>: <code>Какой хороший день!</code>, но мы скорее всего ожидали увидеть <code>Какой хороший день! Может пойдём на речку?</code>.
                        Всё дело в том, что в тексте шаблона <em>child</em> не были указаны изменения, а просто написана некоторая новая структура и Snakeskin не знает как именно она должна расширять родительский шаблон и поэтому проигнорировал её.</p>
                    <p>Одним из способов декларации переопределяемых структур являются блоки (<a href="api-ru.html#block">вызываемые блоки</a> являются частным случаем), они позволяют создавать специальные структурные пометки, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> root</span><span class="xml">
		Какой хороший день!
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> root</span><span class="xml">
		Может пойдём на речку?
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> root}</span><span class="xml">
		Какой хороший день!
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> root}</span><span class="xml">
		Может пойдём на речку?
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Теперь при вызове <em>child</em> результат будет: <code>Может пойдём на речку?</code>, т. к. в родительском шаблоне мы декларировали блок <em>root</em>, а в дочернем переопределили его. Мы также можем расширять дочерний шаблон путём
                        введения новых блоков, которых нет у родителя, и тогда они будут последовательно подставляться в конец тела родителя.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
	Какой хороший день!
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> sub</span><span class="xml">
		Может пойдём на речку?
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	Какой хороший день!
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> sub}</span><span class="xml">
		Может пойдём на речку?
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Теперь результат <em>child</em>: <code>Какой хороший день! Может пойдём на речку?</code>.</p>
                    <p>Сами по себе блоки никак не влияют на конечный вид шаблона, т. е.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> root</span><span class="xml">
		Какой хороший день!
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base2()</span><span class="xml">
	Какой хороший день!
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> root}</span><span class="xml">Какой хороший день!</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base2()}</span><span class="xml">
	Какой хороший день!
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Оба шаблона дадут абсолютно одинаковый ответ.</p>
                    <p>В пределах шаблона не может быть двух блоков с одинаковым названием. Название блоков подчиняется тем же правилам, что и идентификаторы в JS. Внутри блока можно декларировать другие директивы, в частности другие блоки, константы и т. д.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> base</span><span class="xml">
		Какой хороший
</span><span class="hljs-directive">		- <span class="hljs-name"><span class="hljs-built_in">block</span></span> sub</span><span class="xml">
			день
		!
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> sub</span><span class="xml">
		пень
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> base}</span><span class="xml">
		Какой хороший </span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> e}</span><span class="xml">день</span><span class="hljs-directive">{/}</span><span class="xml">!
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> sub}</span><span class="xml">пень</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Если нам нужно доопределить родительский блок, то для этого следует использовать директиву <a href="api-ru.html#super">super</a>. Директива работает по схеме: всплывает по дереву шаблона до тех пор, пока не найдётся блок, который имеет
                        родителя, и вставляет родительское тело в указанное место, а если такого родителя нет, то просто ничего не делает.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> base</span><span class="xml">
		Какой хороший день!
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> base</span><span class="xml">
</span><span class="hljs-directive">		- <span class="hljs-name"><span class="hljs-built_in">super</span></span></span><span class="xml">
		Трудиться мне не лень!
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> base}</span><span class="xml">
		Какой хороший день!
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> base}</span><span class="xml">
		</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">super</span></span>}</span><span class="xml">
		Трудиться мне не лень!
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                </section>
                <section id="inheritParams" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Наследование
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Наследование входных параметров</h1>
                    <p>При наследовании шаблон или блок наследует входные параметры родителя только в случае явного перечисления, при этом если входной параметр имеет у родителя значение по умолчанию, а у потомка оно не указано, то оно наследуется также.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>, b)</span><span class="xml">

</span><span class="hljs-comment">/// Шаблон имеет один параметр "a" со значением по умолчанию 1</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child(a)<span class="hljs-keyword"> extends </span>@base</span><span class="xml">

</span><span class="hljs-comment">/// Шаблон имеет один параметр "a" со значением по умолчанию 2</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child2(a = <span class="hljs-number">2</span>)<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>, b)}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// Шаблон имеет один параметр "a" со значением по умолчанию 1</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child(a)<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// Шаблон имеет один параметр "a" со значением по умолчанию 2</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child2(a = <span class="hljs-number">2</span>)<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Наследуется и отношения параметра к <code>null</code> — <code>?</code> и <code>!</code>, причём в дочернем шаблоне можно переопределить поведение, например:</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a? = <span class="hljs-number">1</span>)</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child(a!)<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a? = <span class="hljs-number">1</span>)}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child(a!)<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Фильтры параметров также наследуются, причём мы можем добавлять новые фильтры в дочернем шаблоне (они будут применятся после родительских).</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base((a<span class="hljs-keyword">|trim</span>))</span><span class="xml">

</span><span class="hljs-comment">/// a|trim|ucfirst</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child((a<span class="hljs-keyword">|ucfirst</span>))<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base((a<span class="hljs-keyword">|trim</span>))}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// a|trim|ucfirst</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child((a<span class="hljs-keyword">|ucfirst</span>))<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Параметры имеют привязку по своему названию, а не порядку.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>, b = <span class="hljs-number">2</span>)</span><span class="xml">

</span><span class="hljs-comment">/// b = 2, a = 1</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child(b, a)<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>, b = <span class="hljs-number">2</span>)}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// b = 2, a = 1</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child(b, a)<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>В случае если потомок исключает родительский параметр, то он становится простой локальной переменной внутри шаблона.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>)</span><span class="xml">

</span><span class="hljs-comment">/// Параметр "a" стал переменной со значением a = 1</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>)}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// Параметр "a" стал переменной со значением a = 1</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Помимо исключения родительских параметров в дочернем шаблоне допускается и добавление новых.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>)</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child(b = <span class="hljs-number">3</span>, a)<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base(a = <span class="hljs-number">1</span>)}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child(b = <span class="hljs-number">3</span>, a)<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p><a href="api-ru.html#with">with</a> биндинг параметров также наследуется, если он не был переопределён явно.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> helloWorld(@params = {name: <span class="hljs-string">'friend'</span>})</span><span class="xml">
</span><span class="hljs-directive">	&lt; h1</span><span class="xml">
		Hello </span><span class="hljs-directive">{@name}</span><span class="xml">!

</span><span class="hljs-comment">/// params наследуется как @params</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> helloWorld2(params)<span class="hljs-keyword"> extends </span>@helloWorld</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> helloWorld(@params = {name: <span class="hljs-string">'friend'</span>}</span><span class="xml">)}
	<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello </span><span class="hljs-directive">{@name}</span><span class="xml">!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// params наследуется как @params</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> helloWorld2(params)<span class="hljs-keyword"> extends </span>@helloWorld}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                </section>
                <section id="inheritSet" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Наследование
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Наследование параметров трансляции</h1>
                    <p>При наследовании шаблона также наследуются те параметры трансляции, которые были ассоциированы с родительским шаблоном.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base(data) <span class="hljs-keyword">@=</span> renderMode <span class="hljs-string">'dom'</span></span><span class="xml">

</span><span class="hljs-comment">/// @= renderMode 'dom'</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child(data)<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base(data) <span class="hljs-keyword">@=</span> inlineIterators true <span class="hljs-keyword">@=</span> renderMode <span class="hljs-string">'dom'</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// @= renderMode 'dom'</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child(data)<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Допускается переопределение или доопределение параметров трансляции в дочернем шаблоне.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base(data) <span class="hljs-keyword">@=</span> renderMode <span class="hljs-string">'stringConcat'</span></span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> child(data)<span class="hljs-keyword"> extends </span>@base <span class="hljs-keyword">@=</span> renderMode <span class="hljs-string">'dom'</span> <span class="hljs-keyword">@=</span> tolerateWhitespaces true</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base(data) <span class="hljs-keyword">@=</span> inlineIterators true <span class="hljs-keyword">@=</span> renderMode <span class="hljs-string">'stringConcat'</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> child(data)<span class="hljs-keyword"> extends </span>@base <span class="hljs-keyword">@=</span> renderMode <span class="hljs-string">'dom'</span> <span class="hljs-keyword">@=</span> tolerateWhitespaces true}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                </section>
                <section id="inheritModifiers" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Наследование
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Наследование модификаторов шаблона</h1>
                    <p>Модификаторы вида <a href="api-ru.html#template--%D0%90%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD">async</a> и <a href="api-ru.html#template--%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD-%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80">генератор</a>                        наследуются дочерними шаблонами без возможности переопределения этого поведения.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">async</span> <span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">var</span></span> data = await db.getData()</span><span class="xml">

</span><span class="hljs-comment">/// Тоже самое, что и</span><span class="xml">
</span><span class="hljs-comment">/// async template sub() extends @base</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">async</span> <span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">var</span></span> data await db.getData() /}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-comment">/// Тоже самое, что и</span><span class="xml">
</span><span class="hljs-comment">/// async template sub() extends @base</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p><a href="api-ru.html#template--%D0%94%D0%B5%D0%BA%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B">Декораторы шаблонов</a> также наследуются, а дочерний шаблон может добавить новые, которые применятся после родительских.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- myDecorator1</span><span class="xml">
</span><span class="hljs-directive">- myDecorator2</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">
- myDecorator3</span><span class="xml">
</span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{myDecorator1}</span><span class="xml">
</span><span class="hljs-directive">{myDecorator2}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{myDecorator3}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                </section>
                <section id="inheritBlocks" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Наследование
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Наследование вызываемых блоков</h1>
                    <p>Вызываемы блоки — это подвид блоков, которые могут принимать входные параметры и неоднократно применяться в шаблоне. Наследование содержимого таких блоков осуществляется также, как и у <a href="#inheritBasic">простых блоков</a>, а входные
                        параметры — по
                        <a href="#inheritParams">общей схеме</a>.</p>
                    <p>Дополнительно следует отметить, что если блок является немедленно вызываемым, то это поведение также наследуется.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> hello(name) <span class="hljs-keyword">=&gt;</span> <span class="hljs-string">'friend'</span></span><span class="xml">
		Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span><span class="hljs-directive">	- <span class="hljs-name"><span class="hljs-built_in">block</span></span> hello(name) <span class="hljs-keyword">=&gt;</span> <span class="hljs-string">'world'</span></span><span class="xml">
</span><span class="hljs-directive">		- <span class="hljs-name"><span class="hljs-built_in">super</span></span></span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> hello(name) <span class="hljs-keyword">=&gt;</span> <span class="hljs-string">'friend'</span>}</span><span class="xml">
		Hello </span><span class="hljs-directive">{name}</span><span class="xml">!
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">block</span></span> hello(name) <span class="hljs-keyword">=&gt;</span> <span class="hljs-string">'world'</span>}</span><span class="xml">
		</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">super</span></span>}</span><span class="xml">
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Результат работы шаблона <strong>sub</strong>:</p>
                    <pre class="hljs example-default"><code>Hello world!
</code></pre>
                </section>
                <section id="inheritConsts" class="b-article">
                    <ul class="b-breadcrumbs">
                        <li><i class="fa fa-home"></i>
                            <div class="fa fa-angle-right"></div> Наследование
                            <div class="fa fa-angle-right"></div>
                        </li>
                    </ul>
                    <h1>Наследование констант</h1>
                    <p>Константы — это специальный вид переменных, которые могут явно переопределяться в дочернем шаблоне и имеют глобальную область видимости в рамках своего шаблона. В шаблоне не может быть двух констант с одинаковым именем, а также переменных,
                        имя которых совпадает с именем константы (за исключением входных параметров функций).</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- title = <span class="hljs-string">'Заголовок'</span></span><span class="xml">
</span><span class="hljs-directive">	&lt; title</span><span class="xml">
		</span><span class="hljs-directive">{title}</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>base</span><span class="xml">
</span><span class="hljs-directive">	- title = <span class="hljs-string">'Новый заголовок'</span></span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{title = <span class="hljs-string">'Заголовок'</span>}</span><span class="xml">
	</span><span class="hljs-directive">{&lt; title}</span><span class="xml">
		</span><span class="hljs-directive">{title}</span><span class="xml">
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>base}</span><span class="xml">
	</span><span class="hljs-directive">{title = <span class="hljs-string">'Новый заголовок'</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Допускается вводить новые константы в дочернем шаблоне — они вставятся сразу после родительских.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	- title = <span class="hljs-string">'Заголовок'</span></span><span class="xml">
</span><span class="hljs-directive">	&lt; title</span><span class="xml">
		</span><span class="hljs-directive">{title}</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span><span class="hljs-directive">	- title = <span class="hljs-string">'Новый заголовок'</span></span><span class="xml">
</span><span class="hljs-directive">	- bar = <span class="hljs-string">'foo'</span></span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{title = <span class="hljs-string">'Заголовок'</span>}</span><span class="xml">
	</span><span class="hljs-directive">{&lt; title}</span><span class="xml">
		</span><span class="hljs-directive">{title}</span><span class="xml">
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	</span><span class="hljs-directive">{title = <span class="hljs-string">'Новый заголовок'</span>}</span><span class="xml">
	</span><span class="hljs-directive">{bar = <span class="hljs-string">'foo'</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                    <p>Если константа была вызываемой, то это поведение также наследуется.</p>
                    <div class="b-example">
                        <menu class="b-example__toggle">
                            <li class="b-example__link b-example__link_active_true">jade-like</li>
                            <li class="b-example__link">classic</li>
                        </menu>
                        <div class="b-example__code">
                            <pre class="hljs example-jade-like"><code><span class="xml"></span><span class="hljs-directive">- <span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> base()</span><span class="xml">
</span><span class="hljs-directive">	&lt; title</span><span class="xml">
</span><span class="hljs-directive">		- title = <span class="hljs-string">'Заголовок'</span> ?</span><span class="xml">
</span><span class="hljs-directive">
- <span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base</span><span class="xml">
</span><span class="hljs-directive">	- title = <span class="hljs-string">'Новый заголовок'</span></span><span class="xml">
</span></code></pre>
                            <pre class="hljs example-classic"><code><span class="xml"></span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">namespace</span></span> demo}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> base()}</span><span class="xml">
	</span><span class="hljs-directive">{&lt; title}</span><span class="xml">
		</span><span class="hljs-directive">{title = <span class="hljs-string">'Заголовок'</span> ?}</span><span class="xml">
	</span><span class="hljs-directive">{/}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">

</span><span class="hljs-directive">{<span class="hljs-name"><span class="hljs-built_in">template</span></span> sub()<span class="hljs-keyword"> extends </span>@base}</span><span class="xml">
	</span><span class="hljs-directive">{title = <span class="hljs-string">'Новый заголовок'</span>}</span><span class="xml">
</span><span class="hljs-directive">{<span class="hljs-name">/<span class="hljs-built_in">template</span></span>}</span><span class="xml">
</span></code></pre>
                        </div>
                    </div>
                </section>
                <div class="b-articles__nav-cont b-articles__next">
                    <div class="b-articles__nav-control"><i class="fa fa-angle-right"></i></div>
                </div>
            </div>
        </div>
        <footer class="b-footer">© 2016-2018 Snakeskin
            <menu class="b-footer__menu">
                <li><a href="https://github.com/SnakeskinTpl/snakeskin.github.io/issues/new">Сообщить об ошибке</a></li>
                <li><a href="https://github.com/SnakeskinTpl/Snakeskin">GitHub</a></li>
            </menu>
        </footer>
    </div>
</body>

</html>
